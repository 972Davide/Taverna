<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Langini Meteo â€“ Dashboard Online</title>
<style>
body{
  font-family:sans-serif;text-align:center;
  background:linear-gradient(to bottom,#001b3a,#004a8d);
  color:white;margin:0;padding:0
}
.card{
  background:rgba(255,255,255,0.1);
  border-radius:12px;
  padding:16px;margin:20px auto;
  max-width:340px;
  box-shadow:0 0 10px rgba(0,0,0,0.3)
}
h1{color:#ffcc00;margin-top:20px}
p{margin:6px 0;font-size:1.2em}
small{opacity:.8}
</style>
</head>
<body>
<h1>ğŸŒ¦ï¸ Langini Meteo â€“ Online</h1>
<div id="dati" class="card">Caricamento...</div>
<small>Aggiornamento automatico ogni 5 s</small>

<script>
async function aggiorna(){
  try{
    const r = await fetch("https://raw.githubusercontent.com/972Davide/Taverna/main/data.json?nocache="+Date.now());
    const d = await r.json();
    document.getElementById("dati").innerHTML =
      `<p>ğŸŒ¡ï¸ Temperatura: <b>${d.temperatura.toFixed(1)} Â°C</b></p>
       <p>ğŸ’§ UmiditÃ : <b>${d.umidita.toFixed(1)} %</b></p>
       <p>ğŸ§ª MQ7: <b>${d.mq7_raw}</b>  (${d.volt.toFixed(2)} V)</p>
       <p>â±ï¸ Ultimo aggiornamento:<br>${new Date(d.timestamp).toLocaleString()}</p>`;
  }catch(e){
    document.getElementById("dati").innerHTML =
      "âš ï¸ Nessun dato disponibile<br>(data.json non trovato)";
  }
}
aggiorna(); setInterval(aggiorna,5000);
</script>
</body>
</html>
